# 「MISC」Webサイト
> [!NOTE]
> このREADMEは、自分まとめ＆後継のために書きます。不明な点等ありましたらMISCのSlackから[私](https://meideninfosystemclub.slack.com/team/U0540L0JFM3)まで連絡ください。
---
# 新規記事の投稿方法
先に結論として記事の投稿方法を書いておこうと思います。見た目等の変更でなければ、おそらくここだけで十分かと思います。

## 1. 記事内容の作成
記事はinnerHTML プロパティで表示するので、HTLMの文法で書いていただければ`h1` `p`などの基礎的なタグも使えます。
また、`style`を使えば普通にCSSも記入できますが、レイアウトが崩れる可能性もあるため、`style`を使う場合は投稿前にレイアウトのズレが起きていないか確認してください。
> [!CAUTION]
> 最終的にJSONに入力するので、改行は無くしておいてください。

## 2. JSONファイルの作成
[jsonフォルダ](./json)内に、JSONファイルを作成していきます。

ファイル名は、`YYYY-MM-DD.json`の形式に統一してください。JSONファイルには、下記のテンプレートをコピペして、必要な情報を記入してください。

````json
{
    "date":"",
    "latest":"",
    "title":"",
    "mainImage":"",
    "tag": [""],
    "content":""
}
````
| Property | Value |
| --- | --- |
| `date` | 記事の投稿日　`YYYYMMDD形式` |
| `latest` | 記事に更新がある場合はその日付、ない場合はdateと同じ |
| `title` | 記事のタイトル |
| `mainImage` | 記事のメインとなる画像リンクを一枚添付、画像等素材に関しては「[1. その他]()」を参照 |
| `tag` | 記事にタグをつけておくと、ページ内で絞り込んで表示などができる。配列なので、タグとタグはコンマで区切る |
| `content` | 記事の本文、「[1. 記事内容の作成](https://github.com/shiki-01/misc/tree/main#1-%E8%A8%98%E4%BA%8B%E5%86%85%E5%AE%B9%E3%81%AE%E4%BD%9C%E6%88%90)」で作成したものを**改行なし**でペーストする |

## 3. 新規記事の登録
記事を登録するためには「[articleList.json](./json/articleList.json)」を編集します。
`list`というプロパティの中に、配列があるため、そこに記事ファイルの名前 `YYYYMMDD` を追加してください（`.json`までの数値部分のみ）

## 4. 投稿の確認
新規に登録した記事は、[ホームページ](https://shiki-01.github.io/misc/index.html) > article > NEWARTICLE の一番上に表示されます。
記事をクリックし、スタイルのズレがないか・誤字脱字等がないかを確認してください。

> [!IMPORTANT]
> Githubでpushをする関係上、push後およそ５分程度は記事の更新がされません、確認は気長に待ってから行いましょう

## 5. その他
素材等は、「[sozai](https://github.com/shiki-01/misc/tree/main/sozai)」ファイルに入れてください。  
メインイメージ等、記事内で使う素材は、「[sozai](https://github.com/shiki-01/misc/tree/main/sozai)」内に、記事ファイルの名前 `YYYYMMDD` でフォルダを作って、そこに入れてください。


# 技術的な話
ここからは、このホームページがどうやって動いているかといった部分を少しだけお話していきます。

## 横スクロール・慣性スクロールについて
[GSAP](https://gsap.com)を使いました。  
横スクロールは、文字の通りスクロールすると横にページが流れていく仕組みのことです。慣性スクロールも文字通りですが、スクロール量にたいしてぬるっとスクロールするやつです。  
Wrapされた要素を、パネルの数だけ横に100%だけ伸ばし、`xPercent`や`scrollTrigger`で実装しました。詳しくは各自調べてください。

## 記事の管理について
記事のたびにHTMLを作成しては容量などが大変なことになるので、記事ページのみSPA（Single Page Application）のような感じで作成しました。  
記事の取得に関しても、「[articleList.json](./json/articleList.json)」を読み込み、それをもとに各種ページからオブジェクトを取得してそれぞれに埋め込んでいます。  
Githubでは、JSONファイルをはじめとして、生の状態のものが存在するため、そのリンクでJSONファイルを取得しています。  
「[articleList.json](./json/articleList.json)」で得た日付＋`.json`のように組み合わせることでリンクを作成し、JSでフェッチを行って色々取得しています。  
そうしてできた要素を、クリックされたときに何を押したかを取得し、`addEventListener`でページ遷移の際にデータを受け渡して記事の表示の際に読み込む量を減らしてページ読み込みを素早く行えるようにしています。

ここらへんも、「`ウェブページ SPA`」や「`Github json fech`」などで検索したら出ると思うので詳細は省きます。

## CSS Gridについて

**みんなもCSS Grid使おう！**  
(Flexとの使い分けも大事だよ)

# 蛇足
このホームページは「記事管理を簡単に」をコンセプトに作成しています。
しかし、ここで発生した問題は、私はブログを持っていないし作ったこともないため、本来どのように管理するかを知らなかったことです。
多くの場合はWordPressなどでブログ管理をしているのだと思いますが、生憎そういうことに疎かった私は、自分で構築するという禁忌を犯しました。
そのため、先に宣言させていただきます。後継の方へ。**この管理の仕方が一般的だと思わないでください**

~~（そもそも、HTMLはかけても管理方法知らないのによくここまでやったよなとか思ってます。）~~

知識のある方が見たら「何やってんだこの人…」となるかもしれませんがご容赦ください。
